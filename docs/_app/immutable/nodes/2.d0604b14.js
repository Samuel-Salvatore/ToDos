import{s as H,f as A,a as T,l as X,A as de,g as D,d as _,c as N,h as C,m as Y,j as h,k as ne,x as S,i as E,B as R,n as Z,y as L,C as me,r as _e,u as pe,v as $e,w as ge,D as le,E as he,e as se,F as re,G as ve,p as ye,H as be,I as ke,J as Ie,o as we}from"../chunks/scheduler.3258af2d.js";import{S as U,i as z,a as g,t as v,b,d as k,m as I,e as w,g as fe,c as ce,f as Ee}from"../chunks/index.310a20e0.js";function ae(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}const Se=!0,Xe=Object.freeze(Object.defineProperty({__proto__:null,prerender:Se},Symbol.toStringTag,{value:"Module"}));function Ae(r){let e,n,t,l,o,s;return{c(){e=A("link"),n=T(),t=A("span"),l=X(r[0]),this.h()},l(a){const i=de("svelte-w60vmd",document.head);e=D(i,"LINK",{rel:!0,href:!0}),i.forEach(_),n=N(a),t=D(a,"SPAN",{class:!0,style:!0});var c=C(t);l=Y(c,r[0]),c.forEach(_),this.h()},h(){h(e,"rel","stylesheet"),h(e,"href","https://fonts.googleapis.com/icon?family=Material+Icons+Outlined"),h(t,"class","material-icons-outlined icon svelte-y47uu9"),ne(t,"--color",r[2])},m(a,i){S(document.head,e),E(a,n,i),E(a,t,i),S(t,l),o||(s=R(t,"click",function(){me(r[1])&&r[1].apply(this,arguments)}),o=!0)},p(a,[i]){r=a,i&1&&Z(l,r[0]),i&4&&ne(t,"--color",r[2])},i:L,o:L,d(a){a&&(_(n),_(t)),_(e),o=!1,s()}}}function De(r,e,n){let{name:t}=e,{handler:l=()=>{}}=e,{color:o="green"}=e;return r.$$set=s=>{"name"in s&&n(0,t=s.name),"handler"in s&&n(1,l=s.handler),"color"in s&&n(2,o=s.color)},[t,l,o]}class B extends U{constructor(e){super(),z(this,e,De,Ae,H,{name:0,handler:1,color:2})}}function Te(r){let e,n,t;const l=r[2].default,o=_e(l,r,r[1],null);return{c(){e=A("div"),o&&o.c(),this.h()},l(s){e=D(s,"DIV",{class:!0});var a=C(e);o&&o.l(a),a.forEach(_),this.h()},h(){h(e,"class",n="cell "+(r[0]?"cell-last":"")+" svelte-d783h4")},m(s,a){E(s,e,a),o&&o.m(e,null),t=!0},p(s,[a]){o&&o.p&&(!t||a&2)&&pe(o,l,s,s[1],t?ge(l,s[1],a,null):$e(s[1]),null),(!t||a&1&&n!==(n="cell "+(s[0]?"cell-last":"")+" svelte-d783h4"))&&h(e,"class",n)},i(s){t||(g(o,s),t=!0)},o(s){v(o,s),t=!1},d(s){s&&_(e),o&&o.d(s)}}}function Ne(r,e,n){let{$$slots:t={},$$scope:l}=e,{last:o=!1}=e;return r.$$set=s=>{"last"in s&&n(0,o=s.last),"$$scope"in s&&n(1,l=s.$$scope)},[o,l,t]}class G extends U{constructor(e){super(),z(this,e,Ne,Te,H,{last:0})}}function Oe(r){let e,n=r[2](r[0])+"",t,l,o,s;return{c(){e=A("span"),t=X(n),this.h()},l(a){e=D(a,"SPAN",{class:!0});var i=C(e);t=Y(i,n),i.forEach(_),this.h()},h(){h(e,"class",l=le(r[1]?"DISABILITATO":r[2](r[0]))+" svelte-3d91nw")},m(a,i){E(a,e,i),S(e,t),o||(s=R(e,"click",r[3]),o=!0)},p(a,[i]){i&1&&n!==(n=a[2](a[0])+"")&&Z(t,n),i&3&&l!==(l=le(a[1]?"DISABILITATO":a[2](a[0]))+" svelte-3d91nw")&&h(e,"class",l)},i:L,o:L,d(a){a&&_(e),o=!1,s()}}}function Ce(r,e,n){let{prio:t=3}=e,{disabled:l=!1}=e;const o=a=>({1:"ALTA",2:"MEDIA",3:"BASSA"})[a],s=()=>{l||n(0,t=(t+1)%3+1)};return r.$$set=a=>{"prio"in a&&n(0,t=a.prio),"disabled"in a&&n(1,l=a.disabled)},[t,l,o,s]}class Pe extends U{constructor(e){super(),z(this,e,Ce,Oe,H,{prio:0,disabled:1})}}function Ve(r){let e=r[0].id+"",n;return{c(){n=X(e)},l(t){n=Y(t,e)},m(t,l){E(t,n,l)},p(t,l){l&1&&e!==(e=t[0].id+"")&&Z(n,e)},d(t){t&&_(n)}}}function Be(r){let e,n;return e=new B({props:{name:"task_alt",handler:r[1]}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p:L,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Le(r){let e,n;return e=new B({props:{name:"circle",handler:r[1],color:"red"}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p:L,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Me(r){let e,n,t,l;const o=[Le,Be],s=[];function a(i,c){return i[0].done==!1?0:1}return e=a(r),n=s[e]=o[e](r),{c(){n.c(),t=se()},l(i){n.l(i),t=se()},m(i,c){s[e].m(i,c),E(i,t,c),l=!0},p(i,c){let y=e;e=a(i),e===y?s[e].p(i,c):(fe(),v(s[y],1,1,()=>{s[y]=null}),ce(),n=s[e],n?n.p(i,c):(n=s[e]=o[e](i),n.c()),g(n,1),n.m(t.parentNode,t))},i(i){l||(g(n),l=!0)},o(i){v(n),l=!1},d(i){i&&_(t),s[e].d(i)}}}function qe(r){let e,n,t,l,o;return{c(){e=A("input"),this.h()},l(s){e=D(s,"INPUT",{type:!0,class:!0,id:!0,placeholder:!0}),this.h()},h(){h(e,"type","text"),h(e,"class",n="todo-item-input-text "+(r[0].done==!0?"text-done":"")+" svelte-hayfgk"),h(e,"id",t=r[0].id),h(e,"placeholder","inserisci il nuovo ToDo")},m(s,a){E(s,e,a),re(e,r[0].task),l||(o=[R(e,"input",r[5]),R(e,"change",r[2])],l=!0)},p(s,a){a&1&&n!==(n="todo-item-input-text "+(s[0].done==!0?"text-done":"")+" svelte-hayfgk")&&h(e,"class",n),a&1&&t!==(t=s[0].id)&&h(e,"id",t),a&1&&e.value!==s[0].task&&re(e,s[0].task)},d(s){s&&_(e),l=!1,ve(o)}}}function Je(r){let e,n,t;function l(s){r[6](s)}let o={disabled:r[0].done};return r[0].priority!==void 0&&(o.prio=r[0].priority),e=new Pe({props:o}),ye.push(()=>Ee(e,"prio",l)),{c(){b(e.$$.fragment)},l(s){k(e.$$.fragment,s)},m(s,a){I(e,s,a),t=!0},p(s,a){const i={};a&1&&(i.disabled=s[0].done),!n&&a&1&&(n=!0,i.prio=s[0].priority,be(()=>n=!1)),e.$set(i)},i(s){t||(g(e.$$.fragment,s),t=!0)},o(s){v(e.$$.fragment,s),t=!1},d(s){w(e,s)}}}function je(r){let e,n;return e=new B({props:{name:"delete_forever",color:"red",handler:r[7]}}),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p:L,i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function He(r){let e,n,t,l,o,s,a,i,c,y;return e=new G({props:{$$slots:{default:[Ve]},$$scope:{ctx:r}}}),t=new G({props:{$$slots:{default:[Me]},$$scope:{ctx:r}}}),o=new G({props:{$$slots:{default:[qe]},$$scope:{ctx:r}}}),a=new G({props:{$$slots:{default:[Je]},$$scope:{ctx:r}}}),c=new G({props:{last:!0,$$slots:{default:[je]},$$scope:{ctx:r}}}),{c(){b(e.$$.fragment),n=T(),b(t.$$.fragment),l=T(),b(o.$$.fragment),s=T(),b(a.$$.fragment),i=T(),b(c.$$.fragment)},l(f){k(e.$$.fragment,f),n=N(f),k(t.$$.fragment,f),l=N(f),k(o.$$.fragment,f),s=N(f),k(a.$$.fragment,f),i=N(f),k(c.$$.fragment,f)},m(f,d){I(e,f,d),E(f,n,d),I(t,f,d),E(f,l,d),I(o,f,d),E(f,s,d),I(a,f,d),E(f,i,d),I(c,f,d),y=!0},p(f,[d]){const J={};d&513&&(J.$$scope={dirty:d,ctx:f}),e.$set(J);const P={};d&513&&(P.$$scope={dirty:d,ctx:f}),t.$set(P);const O={};d&513&&(O.$$scope={dirty:d,ctx:f}),o.$set(O);const j={};d&513&&(j.$$scope={dirty:d,ctx:f}),a.$set(j);const V={};d&512&&(V.$$scope={dirty:d,ctx:f}),c.$set(V)},i(f){y||(g(e.$$.fragment,f),g(t.$$.fragment,f),g(o.$$.fragment,f),g(a.$$.fragment,f),g(c.$$.fragment,f),y=!0)},o(f){v(e.$$.fragment,f),v(t.$$.fragment,f),v(o.$$.fragment,f),v(a.$$.fragment,f),v(c.$$.fragment,f),y=!1},d(f){f&&(_(n),_(l),_(s),_(i)),w(e,f),w(t,f),w(o,f),w(a,f),w(c,f)}}}function Ue(r,e,n){let{todo:t}=e,l=t.priority;const o=he(),s=()=>{n(0,t.done=!t.done,t),i("update")},a=()=>{document.getElementById(t.id).blur(),i("update")},i=d=>{o("change",{type:d,id:t.id})};function c(){t.task=this.value,n(0,t)}function y(d){r.$$.not_equal(t.priority,d)&&(t.priority=d,n(0,t))}const f=()=>i("delete");return r.$$set=d=>{"todo"in d&&n(0,t=d.todo)},r.$$.update=()=>{r.$$.dirty&17&&t.priority!=l&&(n(4,l=t.priority),i("update"))},[t,s,a,i,l,c,y,f]}class ze extends U{constructor(e){super(),z(this,e,Ue,He,H,{todo:0})}}function oe(r,e,n){const t=r.slice();return t[6]=e[n],t}function ie(r){let e,n;return e=new ze({props:{todo:r[6]}}),e.$on("change",r[2]),{c(){b(e.$$.fragment)},l(t){k(e.$$.fragment,t)},m(t,l){I(e,t,l),n=!0},p(t,l){const o={};l&1&&(o.todo=t[6]),e.$set(o)},i(t){n||(g(e.$$.fragment,t),n=!0)},o(t){v(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function Fe(r){let e,n="ToDos",t,l,o,s,a,i,c,y,f,d,J,P,O,j,V,M,Q,K;s=new B({props:{name:"tag"}}),c=new B({props:{name:"task_alt"}}),d=new B({props:{name:"list"}}),O=new B({props:{name:"schedule"}}),M=new B({props:{name:"add_box",handler:r[1]}});let q=ae(r[0]),p=[];for(let u=0;u<q.length;u+=1)p[u]=ie(oe(r,q,u));const ue=u=>v(p[u],1,1,()=>{p[u]=null});return{c(){e=A("h1"),e.textContent=n,t=T(),l=A("div"),o=A("div"),b(s.$$.fragment),a=T(),i=A("div"),b(c.$$.fragment),y=T(),f=A("div"),b(d.$$.fragment),J=T(),P=A("div"),b(O.$$.fragment),j=T(),V=A("div"),b(M.$$.fragment),Q=T();for(let u=0;u<p.length;u+=1)p[u].c();this.h()},l(u){e=D(u,"H1",{class:!0,"data-svelte-h":!0}),ke(e)!=="svelte-nh6ksq"&&(e.textContent=n),t=N(u),l=D(u,"DIV",{class:!0});var m=C(l);o=D(m,"DIV",{class:!0});var $=C(o);k(s.$$.fragment,$),$.forEach(_),a=N(m),i=D(m,"DIV",{class:!0});var F=C(i);k(c.$$.fragment,F),F.forEach(_),y=N(m),f=D(m,"DIV",{class:!0});var x=C(f);k(d.$$.fragment,x),x.forEach(_),J=N(m),P=D(m,"DIV",{class:!0});var ee=C(P);k(O.$$.fragment,ee),ee.forEach(_),j=N(m),V=D(m,"DIV",{class:!0});var te=C(V);k(M.$$.fragment,te),te.forEach(_),Q=N(m);for(let W=0;W<p.length;W+=1)p[W].l(m);m.forEach(_),this.h()},h(){h(e,"class","app-title svelte-1i7ftam"),h(o,"class","header svelte-1i7ftam"),h(i,"class","header svelte-1i7ftam"),h(f,"class","header svelte-1i7ftam"),h(P,"class","header svelte-1i7ftam"),h(V,"class","header header-last svelte-1i7ftam"),h(l,"class","todo-list svelte-1i7ftam")},m(u,m){E(u,e,m),E(u,t,m),E(u,l,m),S(l,o),I(s,o,null),S(l,a),S(l,i),I(c,i,null),S(l,y),S(l,f),I(d,f,null),S(l,J),S(l,P),I(O,P,null),S(l,j),S(l,V),I(M,V,null),S(l,Q);for(let $=0;$<p.length;$+=1)p[$]&&p[$].m(l,null);K=!0},p(u,[m]){if(m&5){q=ae(u[0]);let $;for($=0;$<q.length;$+=1){const F=oe(u,q,$);p[$]?(p[$].p(F,m),g(p[$],1)):(p[$]=ie(F),p[$].c(),g(p[$],1),p[$].m(l,null))}for(fe(),$=q.length;$<p.length;$+=1)ue($);ce()}},i(u){if(!K){g(s.$$.fragment,u),g(c.$$.fragment,u),g(d.$$.fragment,u),g(O.$$.fragment,u),g(M.$$.fragment,u);for(let m=0;m<q.length;m+=1)g(p[m]);K=!0}},o(u){v(s.$$.fragment,u),v(c.$$.fragment,u),v(d.$$.fragment,u),v(O.$$.fragment,u),v(M.$$.fragment,u),p=p.filter(Boolean);for(let m=0;m<p.length;m+=1)v(p[m]);K=!1},d(u){u&&(_(e),_(t),_(l)),w(s),w(c),w(d),w(O),w(M),Ie(p,u)}}}function Ge(r,e,n){let t=[],l=0;const o=async()=>{let c={id:++l,task:"",done:!1,priority:3};console.log("CREATE:",c),localStorage.setItem(`todo${c.id}`,JSON.stringify(c)),n(0,t=[...t,c])},s=async c=>{switch(c.detail.type){case"update":a(c.detail.id);break;case"delete":i(c.detail.id);break}},a=c=>{console.log("UPDATE:",c);const y=t.filter(f=>f.id==c)[0];localStorage.setItem(`todo${c}`,JSON.stringify(y))},i=c=>{console.log("DELETE:",c),n(0,t=t.filter(y=>y.id!=c)),localStorage.removeItem(`todo${c}`)};return we(async()=>{for(let c=0;c<localStorage.length;c++){const y=localStorage.key(c),f=JSON.parse(localStorage.getItem(y));f!=null&&t.push(f)}n(0,t=[...t])}),[t,o,s]}class Ke extends U{constructor(e){super(),z(this,e,Ge,Fe,H,{})}}function Re(r){let e,n,t;return n=new Ke({}),{c(){e=A("main"),b(n.$$.fragment),this.h()},l(l){e=D(l,"MAIN",{class:!0});var o=C(e);k(n.$$.fragment,o),o.forEach(_),this.h()},h(){h(e,"class","svelte-bhiqsu")},m(l,o){E(l,e,o),I(n,e,null),t=!0},p:L,i(l){t||(g(n.$$.fragment,l),t=!0)},o(l){v(n.$$.fragment,l),t=!1},d(l){l&&_(e),w(n)}}}class Ye extends U{constructor(e){super(),z(this,e,null,Re,H,{})}}export{Ye as component,Xe as universal};
